!function(t,e,a,n){"use strict";function r(e,a){this.element=e,this.settings=t.extend({},d,a),this._defaults=d,this._name=i,this.currentDate=new Date,this.init()}var i="simpleCalendar",d={months:["january","february","march","april","may","june","july","august","september","october","november","december"],days:["sunday","monday","tuesday","wenesday","thursday","friday","saturday"],minDate:"YYYY-MM-DD",maxDate:"YYYY-MM-DD",insertEvent:!0,displayEvent:!0,fixedStartDay:!0,event:[],insertCallback:function(){}};t.extend(r.prototype,{init:function(){var e=t(this.element),a=this.currentDate,n=t('<div class="calendar"></div>'),r=t('<header><h2 class="month"></h2><a class="btn btn-prev" href="#"><</a><a class="btn btn-next" href="#">></a></header>');this.updateHeader(a,r),n.append(r),this.buildCalendar(a,n),e.append(n),this.bindEvents()},updateHeader:function(t,e){e.find(".month").html(this.settings.months[t.getMonth()])},buildCalendar:function(e,a){var n=this;a.find("table").remove();for(var r=t("<table></table>"),i=t("<thead></thead>"),d=t("<tbody></tbody>"),s=1;s<=this.settings.days.length;s++)i.append(t("<td>"+this.settings.days[s%7].substring(0,3)+"</td>"));for(var h=e.getFullYear(),o=e.getMonth(),c=new Date(h,o,1);1!=c.getDay();)c.setDate(c.getDate()-1);for(var l=new Date(h,o+1,0);0!=l.getDay();)l.setDate(l.getDate()+1);for(var u=c;l>=u;u.setDate(u.getDate())){for(var f=t("<tr></tr>"),s=0;7>s;s++){var p=t('<td><a href="#" class="day">'+u.getDate()+"</a></td>");u.toDateString()===(new Date).toDateString()&&p.find(".day").addClass("today"),u.getMonth()!=e.getMonth()&&p.find(".day").addClass("wrong-month"),p.on("click",function(e){n.fillUp(t(n.element),e.pageX,e.pageY)}),f.append(p),u.setDate(u.getDate()+1)}d.append(f)}r.append(i),r.append(d);var D=t('<div class="event-container"></div>');a.append(r),a.append(D)},bindEvents:function(){var e=this;t(".btn-prev").click(function(){e.currentDate.setMonth(e.currentDate.getMonth()-1),e.buildCalendar(e.currentDate,t(".calendar")),e.updateHeader(e.currentDate,t(".calendar header"))}),t(".btn-next").click(function(){e.currentDate.setMonth(e.currentDate.getMonth()+1),e.buildCalendar(e.currentDate,t(".calendar")),e.updateHeader(e.currentDate,t(".calendar header"))})},fillUp:function(e,a,n){var r=e.offset(),i=t('<div class="filler" style=""></div>');i.css("left",a-r.left),i.css("top",n-r.top),t(".calendar").append(i),i.animate({width:"300%",height:"300%"},500,function(){t(".event-container").show(),i.hide()})},empty:function(e,a,n){var r=(e.offset(),t(".filler"));r.css("width","300%"),r.css("height","300%"),r.show(),t(".event-container").hide(),r.animate({width:"0%",height:"0%"},500,function(){r.remove()})}}),t.fn[i]=function(e){return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new r(this,e))})}}(jQuery,window,document);